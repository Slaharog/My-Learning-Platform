<div *ngIf="user">
    <h1>My Profile</h1>
    
    <div>
      <h2>Account Information</h2>
      <div>
        <p><strong>Username:</strong> {{ user.name }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
      </div>
    </div>
    
    <div>
      <h2>Profile Information</h2>
      <div *ngIf="!isEditing">
        <p><strong>Full Name:</strong> {{ user.name }}</p>
        <button (click)="toggleEdit()">Edit Profile</button>
      </div>
      
      <div *ngIf="isEditing">
        <form (ngSubmit)="saveProfile()" [formGroup]="profileForm">
          <div>
            <label for="fullName">Full Name:</label>
            <input 
              type="text" 
              id="fullName" 
              formControlName="fullName" 
              placeholder="Enter your full name">
          </div>
          
          <div>
            <label for="bio">Bio:</label>
            <textarea 
              id="bio" 
              formControlName="bio" 
              placeholder="Tell us about yourself"
              rows="4"></textarea>
          </div>
          
          <div>
            <label for="location">Location:</label>
            <input 
              type="text" 
              id="location" 
              formControlName="location" 
              placeholder="City, Country">
          </div>
          
          <div>
            <button type="submit">Save Profile</button>
            <button type="button" (click)="cancelEdit()">Cancel</button>
          </div>
        </form>
      </div>
    </div>
    
    <div>
      <h2>My Courses</h2>
      <div *ngIf="enrolledCourses.length > 0">
        <div *ngFor="let course of enrolledCourses">
          <div>
            <h3>{{ course.title }}</h3>
            <p>{{ course.description }}</p>
            <div>
              <p><strong>Enrolled:</strong> {{ course.enrolledAt | date }}</p>
              <p><strong>Progress:</strong> {{ course.completedLessons }} of {{ course.totalLessons }} lessons completed ({{ course.progress }}%)</p>
              <div>
                <progress [value]="course.progress" max="100"></progress>
              </div>
            </div>
            <button [routerLink]="['/courses', course.courseId]">Continue Learning</button>
          </div>
        </div>
      </div>
      <div *ngIf="enrolledCourses.length === 0">
        <p>You are not enrolled in any courses yet.</p>
        <button routerLink="/courses">Browse Courses</button>
      </div>
    </div>
  </div>
  
  <div *ngIf="!user">
    <p>Loading profile information...</p>
  </div>
